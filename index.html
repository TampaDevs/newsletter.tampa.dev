<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tampa Devs Newsletter Signup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VV1YTRRM50"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VV1YTRRM50');
    </script>
</head>

<body class="bg-[#4e5569] flex flex-col min-h-screen">
    <nav class="bg-[#4e5569] text-white p-5">
        <div class="max-w-6xl mx-auto flex justify-center">
            <a href="https://www.tampadevs.com/">
                <img src="https://www.tampadevs.com/_assets/misc/logos/tampa-devs.svg" alt="Tampa Devs logo" class="h-8 md:h-12">
            </a>
        </div>
    </nav>
    <div class="flex-grow bg-red-500 text-white py-8">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-lg md:text-2xl font-bold flex items-center">
                <img src="https://www.tampadevs.com/_assets/misc/icons/mail-send.svg" alt="Paper Airplane" class="h-6 mr-2"> Keep in touch
            </h2>

            <p class="mt-2">Stay informed with local tech news, upcoming events, job opportunities, and more from Tampa Devs.</p>
            <form action="https://newsletter.api.tampa.dev/subscribe" method="post" class="mt-8" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-black">
                    <!-- Visible fields -->
                    <div class="form-group">
                        <input type="text" name="firstname" placeholder="First name" autocomplete="off" class="w-full p-2 rounded-md border border-gray-300">
                    </div>
                    <div class="form-group">
                        <input type="text" name="lastname" placeholder="Last name" autocomplete="off" class="w-full p-2 rounded-md border border-gray-300">
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Email Address" required autocomplete="off" class="w-full p-2 rounded-md border border-gray-300">
                    </div>
                    <div aria-hidden="true" class="hidden">
                        <input name="phone" class="required phone" id="mce-phone" value="(813) 555-0199" placeholder="Phone" autocomplete="off">
                        <input type="email" value name="verify_email" class="required email" id="mce-EMAIL-verify" placeholder="Verify Email Address" autocomplete="off">
                    </div>
                </div>
                <div class="mt-4 flex justify-center md:justify-start">
                    <input type="submit" value="Subscribe" name="subscribe" class="cursor-pointer bg-white text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-gray-100">
                </div>
            </form>
        </div>
    </div>
    <div class="bg-cover bg-center w-full" style="background-image: url('https://www.tampadevs.com/_assets/img/tadhack-group.webp'); height: 50vh;">
        <!-- Empty div to ensure background covers this area -->
    </div>
    <script>
        function resetMailForm() {
                document.getElementById("mc-embedded-subscribe-form").reset();
                document.getElementById("mc-embedded-subscribe").value = "Subscribe";
                document.getElementById("mc-embedded-subscribe").style.backgroundColor = "#fff";
                document.getElementById("mc-embedded-subscribe").style.textTransform = "uppercase";
                document.getElementById("mc-embedded-subscribe").style.color = "#566075";
              }

              function formSubmit(e) {
                var req = new XMLHttpRequest();
                req.open('POST', "https://newsletter.api.tampa.dev/subscribe", true);
        
                req.onload = function() { 
                  document.getElementById("mc-embedded-subscribe-form").reset();
                  document.getElementById("mc-embedded-subscribe").value = "Subscribed ‚úîÔ∏è";
                  document.getElementById("mc-embedded-subscribe").style.backgroundColor = "#B5E0B8";
                  setTimeout(resetMailForm, 2000);
                  console.log(req.responseText);
                };
      
                req.onerror = function() {
                  document.getElementById("mc-embedded-subscribe-form").reset();
                  document.getElementById("mc-embedded-subscribe").value = "Something Broke üòî";
                  document.getElementById("mc-embedded-subscribe").style.color = "#fff";
                  document.getElementById("mc-embedded-subscribe").style.textTransform = "none";
                  document.getElementById("mc-embedded-subscribe").style.backgroundColor = "#4e5569";
                  setTimeout(resetMailForm, 2000);
                  console.log("Newsletter subscription failed.");
                };
      
                req.send(new FormData(e.target));
      
                e.preventDefault();
              }
      
              document.getElementById("mc-embedded-subscribe-form").addEventListener("submit", formSubmit);
    </script>
</body>

</html>
